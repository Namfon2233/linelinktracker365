<!doctype html>
<html lang="en" class="">
  <head>
    <!-- üåê Metadata -->
    <meta charset="UTF-8" />
    <title>Group Dashboard | LINE Link Tracker</title>

    <!-- üé® Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- üìä Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- üó∫Ô∏è Leaflet Map CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
  </head>

  <body
    class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 p-6 transition-colors duration-300"
  >
    <div class="max-w-6xl mx-auto">
      <!-- üî∞ Header + Dark Mode Toggle -->
      <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold">üìä Group Dashboard</h1>

        <!-- üåô ‡∏õ‡∏∏‡πà‡∏° Toggle Dark Mode -->
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" id="dark-mode-toggle" class="sr-only peer" />
          <div
            class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:bg-blue-600 transition-colors duration-300"
          >
            <span
              class="absolute top-1 left-1 bg-white w-4 h-4 rounded-full shadow transform peer-checked:translate-x-full peer-checked:bg-gray-300 transition-transform duration-300"
            ></span>
          </div>
          <span
            class="ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"
          >
            Dark Mode
          </span>
        </label>
      </div>

      <!-- üéØ ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏° + ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà + Export CSV -->
      <div class="mb-6">
        <div class="flex flex-wrap gap-4 mb-4">
          <div>
            <label for="groupSelector" class="block text-sm font-medium">
              üß© ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°
            </label>
            <select
              id="groupSelector"
              class="border px-3 py-1 rounded w-full bg-white dark:bg-gray-800"
            >
              <option value="">üîΩ All Groups</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium">üìÖ Start Date</label>
            <input
              type="date"
              id="startDate"
              class="border rounded px-3 py-1 bg-white dark:bg-gray-800"
            />
          </div>
          <div>
            <label class="block text-sm font-medium">üìÖ End Date</label>
            <input
              type="date"
              id="endDate"
              class="border rounded px-3 py-1 bg-white dark:bg-gray-800"
            />
          </div>
          <div class="flex items-end">
            <button
              id="exportCsvBtn"
              class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"
            >
              üì§ Export Logs ‡πÄ‡∏õ‡πá‡∏ô CSV
            </button>
          </div>
        </div>
      </div>

      <!-- üîó ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î -->
      <section class="mb-10">
        <h2 class="text-xl font-semibold mb-4">üîó ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
        <div id="linkList" class="grid gap-4">
          <!-- ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
        </div>
      </section>

      <!-- üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ï‡∏≤‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏° -->
      <section class="mb-10">
        <h2 class="text-xl font-semibold mb-4">üìä ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°</h2>
        <table
          class="w-full table-auto border bg-white dark:bg-gray-800 text-sm"
        >
          <thead class="bg-gray-200 dark:bg-gray-700">
            <tr>
              <th class="px-4 py-2 text-left">#</th>
              <th class="px-4 py-2 text-left">Group</th>
              <th class="px-4 py-2 text-center">Clicks</th>
            </tr>
          </thead>
          <tbody id="groupTableBody"></tbody>
        </table>
      </section>

      <!-- üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà -->
      <section class="mb-10">
        <h2 class="text-xl font-semibold mb-4">üó∫Ô∏è ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡∏¥‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå</h2>
        <div
          id="map"
          class="h-96 rounded shadow border bg-gray-200 dark:bg-gray-800"
        ></div>
      </section>

      <!-- üìà ‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å -->
      <section class="mb-10">
        <h2 class="text-xl font-semibold mb-4">üìà ‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å</h2>
        <div class="mb-2">
          <label for="chartMode" class="block text-sm font-medium mb-1">
            ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏£‡∏≤‡∏ü
          </label>
          <select
            id="chartMode"
            class="border px-3 py-1 rounded bg-white dark:bg-gray-800"
          >
            <option value="timeline">üìÖ Timeline</option>
            <option value="group">üß© Group</option>
          </select>
        </div>
        <canvas id="clickChart" class="w-full max-w-full h-64"></canvas>
      </section>
    </div>

    <!-- üîó Script Load -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="module" src="components/group.js"></script>
  </body>
</html>
